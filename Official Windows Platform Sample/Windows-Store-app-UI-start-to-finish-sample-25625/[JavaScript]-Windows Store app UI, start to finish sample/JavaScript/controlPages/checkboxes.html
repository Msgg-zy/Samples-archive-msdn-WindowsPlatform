<!--
//*********************************************************
//
// Copyright (c) Microsoft. All rights reserved.
// THIS CODE IS PROVIDED *AS IS* WITHOUT WARRANTY OF
// ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING ANY
// IMPLIED WARRANTIES OF FITNESS FOR A PARTICULAR
// PURPOSE, MERCHANTABILITY, OR NON-INFRINGEMENT.
//
//*********************************************************
-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>checkboxes</title>

    <!-- WinJS references -->
    <link href="//Microsoft.WinJS.2.0/css/ui-dark.css" rel="stylesheet" />
    <script src="//Microsoft.WinJS.2.0/js/base.js"></script>
    <script src="//Microsoft.WinJS.2.0/js/ui.js"></script>

    <link href="checkboxes.css" rel="stylesheet" />
    <script src="checkboxes.js"></script>

</head>
<body>
    <div class="checkboxes fragment">
        <header aria-label="Header content" role="banner">
            <button data-win-control="WinJS.UI.BackButton"></button>
            <h1 class="titlearea win-type-ellipsis">
                <span class="pagetitle" data-win-res="{ textContent: 'CheckboxTitle' }"></span>
            </h1>

            <div class="inapp-searchbox"
                 data-win-control="WinJS.UI.SearchBox"
                 data-win-options="{placeholderText: 'Search for controls',
                 focusOnKeyboardInput: true,
                 onsuggestionsrequested: SampleNavigation.suggestionsRequestedHandler,
                 onquerysubmitted: SampleNavigation.searchHandler}">
            </div>
        </header>
        <section aria-label="Main content" role="main">
            <p data-win-res="{textContent: 'CheckboxDescription'}"></p>
            <section class="documentationSection">
                <h4 data-win-res="{ textContent: 'DocumentationSectionTitle' }"></h4>
                <ul>
                    <div id="repeaterControl"
                         data-win-control="WinJS.UI.Repeater"
                         data-win-bind="winControl.data: documentation"
                         data-win-options="{template: select('#documentationRepeaterTemplate')}">
                    </div>
                </ul>
            </section>
            <section>
                <h2 data-win-res="{textContent: 'CheckboxExample1Title'}"></h2>
                <div class="example">

                    <p data-win-res="{textContent: 'CheckboxExample1Description'}"></p>
                    <div class="exampleDisplay">
                         <style type="text/css">
                            .controlGroup {
                                margin: 0px 0px 20px 0px;
                                padding: 0px;
                                border: 0px;
                            }

                            .controlGroupName {
                                font: normal normal normal 11pt/15pt "Segoe UI Semilight";
                                font-size: 11pt;
                                margin: 0px 0px 10px 0px;
                                padding: 0px;
                                border: 0px;
                                position: relative;
                                vertical-align: top;
                                display: block;
                            }

                            .verticalStacking input[type="checkbox"] {
                                margin-bottom: 16px;
                            }
                        </style>

                        <div style="margin: 20px">
                            <fieldset class="controlGroup verticalStacking">
                                <legend class="controlGroupName">Choose an option:</legend>
                                <label>
                                    <input id="option1" type="checkbox" class="checkboxExample1" />Option 1
                                </label>
                                <br />
                                <label>
                                    <input id="option2" type="checkbox" class="checkboxExample1" checked />Option 2
                                </label>
                                <br />
                                <label>
                                    <input id="option3" type="checkbox" class="checkboxExample1" />Option 3
                                </label>
                                <br />
                                <label>
                                    <input id="option4" type="checkbox" class="checkboxExample1" />Option 4
                                </label>
                            </fieldset>
                        </div>

                        <button onclick="CheckboxExamples.evaluateCheckboxState(event)">Report checkbox state</button>
                        <div id="checkedStateOutput"></div>


                        <script type="text/javascript">
                            (function () {
                                "use strict";
                                function evaluateCheckboxState(eventInfo) {
                                    var outputDiv = document.getElementById("checkedStateOutput");
                                    var output = "<ul>";
                                    WinJS.Utilities.query(".checkboxExample1").forEach(function (checkbox) {
                                        output += "<li>" + checkbox.id + " checked: " + checkbox.checked + "</li>";
                                    });
                                    outputDiv.innerHTML = output + "</ul>";

                                }

                                WinJS.Namespace.define("CheckboxExamples",
                                    { evaluateCheckboxState: evaluateCheckboxState });

                            })();
                        </script>
                    </div>

                    <div data-win-control="SampleUtilities.SnippetViewer">
&lt;style type=&quot;text/css&quot;&gt;
    .controlGroup {
        margin: 0px 0px 20px 0px;
        padding: 0px;
        border: 0px;
    }

    .controlGroupName {
        font: normal normal normal 11pt/15pt &quot;Segoe UI Semilight&quot;;
        font-size: 11pt;
        margin: 0px 0px 10px 0px;
        padding: 0px;
        border: 0px;
        position: relative;
        vertical-align: top;
        display: block;
    }

    .verticalStacking input[type=&quot;checkbox&quot;] {
        margin-bottom: 16px;
    }
&lt;/style&gt;

&lt;div style=&quot;margin: 20px&quot;&gt;
    &lt;fieldset class=&quot;controlGroup verticalStacking&quot;&gt;
        &lt;legend class=&quot;controlGroupName&quot;&gt;Choose an option:&lt;/legend&gt;
        &lt;label&gt;
            &lt;input id=&quot;option1&quot; type=&quot;checkbox&quot; class=&quot;checkboxExample1&quot; /&gt;Option 1
        &lt;/label&gt;
        &lt;br /&gt;
        &lt;label&gt;
            &lt;input id=&quot;option2&quot; type=&quot;checkbox&quot; class=&quot;checkboxExample1&quot; checked /&gt;Option 2
        &lt;/label&gt;
        &lt;br /&gt;
        &lt;label&gt;
            &lt;input id=&quot;option3&quot; type=&quot;checkbox&quot; class=&quot;checkboxExample1&quot; /&gt;Option 3
        &lt;/label&gt;
        &lt;br /&gt;
        &lt;label&gt;
            &lt;input id=&quot;option4&quot; type=&quot;checkbox&quot; class=&quot;checkboxExample1&quot; /&gt;Option 4
        &lt;/label&gt;
    &lt;/fieldset&gt;
&lt;/div&gt;

&lt;button onclick=&quot;CheckboxExamples.evaluateCheckboxState(event)&quot;&gt;Report checkbox state&lt;/button&gt;
&lt;div id=&quot;checkedStateOutput&quot;&gt;&lt;/div&gt;


&lt;script type=&quot;text/javascript&quot;&gt;
    (function () {
        &quot;use strict&quot;;
        function evaluateCheckboxState(eventInfo) {
            var outputDiv = document.getElementById(&quot;checkedStateOutput&quot;);
            var output = &quot;&lt;ul&gt;&quot;;
            WinJS.Utilities.query(&quot;.checkboxExample1&quot;).forEach(function (checkbox) {
                output += &quot;&lt;li&gt;&quot; + checkbox.id + &quot; checked: &quot; + checkbox.checked + &quot;&lt;/li&gt;&quot;;
            });
            outputDiv.innerHTML = output + &quot;&lt;/ul&gt;&quot;;

        }

        WinJS.Namespace.define(&quot;CheckboxExamples&quot;,
            { evaluateCheckboxState: evaluateCheckboxState });

    })();
&lt;/script&gt;
                    </div>


                </div>
            </section>

            <section>
                <h2 data-win-res="{textContent: 'CheckboxExample2Title'}"></h2>
                <div class="example">

                    <p data-win-res="{textContent: 'CheckboxExample2Description'}"></p>
                    <div class="exampleDisplay">

                        <style type="text/css">
                            .controlGroup {
                                margin: 0px 0px 20px 0px;
                                padding: 0px;
                                border: 0px;
                            }

                            .controlGroupName {
                                font: normal normal normal 11pt/15pt "Segoe UI Semilight";
                                font-size: 11pt;
                                margin: 0px 0px 10px 0px;
                                padding: 0px;
                                border: 0px;
                                position: relative;
                                vertical-align: top;
                                display: block;
                            }

                            .verticalStacking input[type="checkbox"] {
                                margin-bottom: 16px;
                            }
                        </style>

                        <fieldset class="controlGroup verticalStacking">
                            <legend class="controlGroupName">Choose an option:</legend>

                            <label>
                                <input type="checkbox" id="selectAll" onclick="CheckboxExamples.checkAll(event)" />Select all
                            </label>
                            <div style="margin-left: 29px" onclick="CheckboxExamples.updateCheckboxes(event)">
                                <label>
                                    <input id="optionA" type="checkbox" class="checkboxExample2" />Option A
                                </label>
                                <br />
                                <label>
                                    <input id="optionB" type="checkbox" class="checkboxExample2" />Option B
                                </label>
                                <br />
                                <label>
                                    <input id="optionC" type="checkbox" class="checkboxExample2" />Option C
                                </label>
                                <br />
                                <label>
                                    <input id="optionD" type="checkbox" class="checkboxExample2" />Option D
                                </label>
                            </div>

                        </fieldset>



                        <script type="text/javascript">
                            (function () {
                                "use strict";

                                function checkAll(eventInfo) {

                                    var options = document.getElementsByClassName("checkboxExample2");
                                    for (var i = 0; i < options.length; i++) {
                                        options[i].checked = event.srcElement.checked;
                                    }
                                }

                                function updateCheckboxes(eventInfo) {
                                    var options = document.getElementsByClassName("checkboxExample2");
                                    var selectedCount = 0;
                                    for (var i = 0; i < options.length; i++) {
                                        if (options[i].checked) {
                                            selectedCount++;
                                        }
                                    }

                                    // Update the selectAll checkbox
                                    // to reflect the state of the child checkboxes.
                                    var selectAll = document.getElementById("selectAll");
                                    if (options.length === selectedCount) {
                                        selectAll.indeterminate = false;
                                        selectAll.checked = true;
                                    } else if (0 === selectedCount) {
                                        selectAll.indeterminate = false;
                                        selectAll.checked = false;
                                    } else {
                                        selectAll.indeterminate = true;
                                        //selectAll.checked = false;
                                    }
                                }



                                WinJS.Namespace.define("CheckboxExamples",
                                    {
                                        checkAll: checkAll,
                                        updateCheckboxes: updateCheckboxes
                                    });

                            })();
                        </script>
                    </div>

                    <div data-win-control="SampleUtilities.SnippetViewer">
&lt;style type=&quot;text/css&quot;&gt;
    .controlGroup {
        margin: 0px 0px 20px 0px;
        padding: 0px;
        border: 0px;
    }

    .controlGroupName {
        font: normal normal normal 11pt/15pt &quot;Segoe UI Semilight&quot;;
        font-size: 11pt;
        margin: 0px 0px 10px 0px;
        padding: 0px;
        border: 0px;
        position: relative;
        vertical-align: top;
        display: block;
    }

    .verticalStacking input[type=&quot;checkbox&quot;] {
        margin-bottom: 16px;
    }
&lt;/style&gt;

&lt;fieldset class=&quot;controlGroup verticalStacking&quot;&gt;
    &lt;legend class=&quot;controlGroupName&quot;&gt;Choose an option:&lt;/legend&gt;

    &lt;label&gt;
        &lt;input type=&quot;checkbox&quot; id=&quot;selectAll&quot; onclick=&quot;CheckboxExamples.checkAll(event)&quot; /&gt;Select all
    &lt;/label&gt;
    &lt;div style=&quot;margin-left: 29px&quot; onclick=&quot;CheckboxExamples.updateCheckboxes(event)&quot;&gt;
        &lt;label&gt;
            &lt;input id=&quot;optionA&quot; type=&quot;checkbox&quot; class=&quot;checkboxExample2&quot; /&gt;Option A
        &lt;/label&gt;
        &lt;br /&gt;
        &lt;label&gt;
            &lt;input id=&quot;optionB&quot; type=&quot;checkbox&quot; class=&quot;checkboxExample2&quot; /&gt;Option B
        &lt;/label&gt;
        &lt;br /&gt;
        &lt;label&gt;
            &lt;input id=&quot;optionC&quot; type=&quot;checkbox&quot; class=&quot;checkboxExample2&quot; /&gt;Option C
        &lt;/label&gt;
        &lt;br /&gt;
        &lt;label&gt;
            &lt;input id=&quot;optionD&quot; type=&quot;checkbox&quot; class=&quot;checkboxExample2&quot; /&gt;Option D
        &lt;/label&gt;
    &lt;/div&gt;

&lt;/fieldset&gt;



&lt;script type=&quot;text/javascript&quot;&gt;
    (function () {
        &quot;use strict&quot;;

        function checkAll(eventInfo) {

            var options = document.getElementsByClassName(&quot;checkboxExample2&quot;);
            for (var i = 0; i &lt; options.length; i++) {
                options[i].checked = event.srcElement.checked;
            }
        }

        function updateCheckboxes(eventInfo) {
            var options = document.getElementsByClassName(&quot;checkboxExample2&quot;);
            var selectedCount = 0;
            for (var i = 0; i &lt; options.length; i++) {
                if (options[i].checked) {
                    selectedCount++;
                }
            }

            // Update the selectAll checkbox
            // to reflect the state of the child checkboxes.
            var selectAll = document.getElementById(&quot;selectAll&quot;);
            if (options.length === selectedCount) {
                selectAll.indeterminate = false;
                selectAll.checked = true;
            } else if (0 === selectedCount) {
                selectAll.indeterminate = false;
                selectAll.checked = false;
            } else {
                selectAll.indeterminate = true;
                //selectAll.checked = false;
            }
        }



        WinJS.Namespace.define(&quot;CheckboxExamples&quot;,
            {
                checkAll: checkAll,
                updateCheckboxes: updateCheckboxes
            });

    })();
&lt;/script&gt;
                    </div>
     

                </div>
            </section>
        </section>
    </div>
</body>
</html>
