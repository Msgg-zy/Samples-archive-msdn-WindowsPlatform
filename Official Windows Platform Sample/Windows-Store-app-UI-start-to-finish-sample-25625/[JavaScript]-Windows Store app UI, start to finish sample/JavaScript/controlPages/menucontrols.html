<!--
//*********************************************************
//
// Copyright (c) Microsoft. All rights reserved.
// THIS CODE IS PROVIDED *AS IS* WITHOUT WARRANTY OF
// ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING ANY
// IMPLIED WARRANTIES OF FITNESS FOR A PARTICULAR
// PURPOSE, MERCHANTABILITY, OR NON-INFRINGEMENT.
//
//*********************************************************
-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>menucontrols</title>

    <!-- WinJS references -->
    <link href="//Microsoft.WinJS.2.0/css/ui-dark.css" rel="stylesheet" />
    <script src="//Microsoft.WinJS.2.0/js/base.js"></script>
    <script src="//Microsoft.WinJS.2.0/js/ui.js"></script>

    <link href="menucontrols.css" rel="stylesheet" />
    <script src="menucontrols.js"></script>

</head>
<body>
    <div class="menucontrols fragment">
        <header aria-label="Header content" role="banner">
            <button data-win-control="WinJS.UI.BackButton"></button>
            <h1 class="titlearea win-type-ellipsis">
                <span class="pagetitle" data-win-res="{ textContent: 'MenuApiName' }"></span>
            </h1>

            <div class="inapp-searchbox"
                 data-win-control="WinJS.UI.SearchBox"
                 data-win-options="{placeholderText: 'Search for controls',
                 focusOnKeyboardInput: true,
                 onsuggestionsrequested: SampleNavigation.suggestionsRequestedHandler,
                 onquerysubmitted: SampleNavigation.searchHandler}">
            </div>
        </header>
        <section aria-label="Main content" role="main">
            <p data-win-res="{textContent: 'MenuDescription'}"></p>
            <section class="documentationSection">
                <h4 data-win-res="{ textContent: 'DocumentationSectionTitle' }"></h4>
                <ul>
                    <div id="repeaterControl"
                         data-win-control="WinJS.UI.Repeater"
                         data-win-bind="winControl.data: documentation"
                         data-win-options="{template: select('#documentationRepeaterTemplate')}">
                    </div>
                </ul>
            </section>
            <section>
                <div class="example">
                    <h2 data-win-res="{textContent: 'MenuExampleTitle'}"></h2>
                    <p data-win-res="{textContent: 'MenuExampleDescription'}"></p>
                    <div class="exampleDisplay">

                        <style type="text/css">
                            div.output {
                                margin-top: 20px;
                                margin-bottom: 20px; 
                            }
                        </style>

                        <!-- Button that launches the respond menu. -->
                        <button aria-haspopup="true" onclick="MenuExamples.displayMenu(event)">Show menu</button>

                        <div id="displayMenu" data-win-control="WinJS.UI.Menu">
                            <button data-win-control="WinJS.UI.MenuCommand" 
                                data-win-options="{id:'toggleItem', label:'Toggle item', type:'toggle', 
                                     selected:'true', onclick: MenuExamples.toggleClicked}">
                            </button>
                            <hr data-win-control="WinJS.UI.MenuCommand" 
                                data-win-options="{id:'separator',type:'separator'}" />
                            <button data-win-control="WinJS.UI.MenuCommand" 
                                data-win-options="{id:'menuItem1', label:'Menu item 1', 
                                     onclick: MenuExamples.menuItemClicked}">
                            </button>
                            <button data-win-control="WinJS.UI.MenuCommand" 
                                data-win-options="{id:'menuItem2', label:'Menu item 2', 
                                     onclick: MenuExamples.menuItemClicked}">
                            </button>
                            <button data-win-control="WinJS.UI.MenuCommand" 
                                data-win-options="{id:'menuItem3', label:'Menu item 3', 
                                     onclick: MenuExamples.menuItemClicked}">
                            </button>
                        </div>

                        <div id="outputDiv" class="output">

                        </div>

                        <script type="text/javascript">
                            (function () {
                                "use strict";
                                function displayMenu(eventInfo) {
                                    var menu = document.getElementById("respondFlyout").winControl;
                                    menu.show(eventInfo.target, "bottom"); 
                                }

                                function toggleClicked(eventInfo) {
                                    var outputDiv = document.getElementById("outputDiv");
                                    var menuItem = eventInfo.target.winControl;
                                    outputDiv.innerHTML = eventInfo.target.id +
                                        " was clicked. Its selected property is now " + menuItem.selected + ".";
                                }

                                function menuItemClicked(eventInfo) {
                                    var outputDiv = document.getElementById("outputDiv");
                                    outputDiv.innerHTML = eventInfo.target.id + " was clicked.";
                                }

                                WinJS.Namespace.define("MenuExamples",
                                {
                                    displayMenu: displayMenu,
                                    toggleClicked : WinJS.UI.eventHandler(toggleClicked),
                                    menuItemClicked : WinJS.UI.eventHandler(menuItemClicked)
                                });
                            })();
                        </script>

                    </div>

                    <div data-win-control="SampleUtilities.SnippetViewer">
&lt;style type=&quot;text/css&quot;&gt;
    div.output {
        margin-top: 20px;
        margin-bottom: 20px; 
    }
&lt;/style&gt;

&lt;!-- Button that launches the respond menu. --&gt;
&lt;button aria-haspopup=&quot;true&quot; onclick=&quot;MenuExamples.displayMenu(event)&quot;&gt;Show menu&lt;/button&gt;

&lt;div id=&quot;respondFlyout&quot; data-win-control=&quot;WinJS.UI.Menu&quot;&gt;
    &lt;button data-win-control=&quot;WinJS.UI.MenuCommand&quot; 
        data-win-options=&quot;{id:&#39;toggleItem&#39;, label:&#39;Toggle item&#39;, type:&#39;toggle&#39;, 
                selected:&#39;true&#39;, onclick: MenuExamples.toggleClicked}&quot;&gt;
    &lt;/button&gt;
    &lt;hr data-win-control=&quot;WinJS.UI.MenuCommand&quot; 
        data-win-options=&quot;{id:&#39;separator&#39;,type:&#39;separator&#39;}&quot; /&gt;
    &lt;button data-win-control=&quot;WinJS.UI.MenuCommand&quot; 
        data-win-options=&quot;{id:&#39;menuItem1&#39;, label:&#39;Menu item 1&#39;, 
                onclick: MenuExamples.menuItemClicked}&quot;&gt;
    &lt;/button&gt;
    &lt;button data-win-control=&quot;WinJS.UI.MenuCommand&quot; 
        data-win-options=&quot;{id:&#39;menuItem2&#39;, label:&#39;Menu item 2&#39;, 
                onclick: MenuExamples.menuItemClicked}&quot;&gt;
    &lt;/button&gt;
    &lt;button data-win-control=&quot;WinJS.UI.MenuCommand&quot; 
        data-win-options=&quot;{id:&#39;menuItem3&#39;, label:&#39;Menu item 3&#39;, 
                onclick: MenuExamples.menuItemClicked}&quot;&gt;
    &lt;/button&gt;
&lt;/div&gt;

&lt;div id=&quot;outputDiv&quot; class=&quot;output&quot;&gt;

&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
    (function () {
        &quot;use strict&quot;;
        function displayMenu(eventInfo) {
            var menu = document.getElementById(&quot;respondFlyout&quot;).winControl;
            menu.show(eventInfo.target, &quot;bottom&quot;); 
        }

        function toggleClicked(eventInfo) {
            var outputDiv = document.getElementById(&quot;outputDiv&quot;);
            var menuItem = eventInfo.target.winControl;
            outputDiv.innerHTML = eventInfo.target.id +
                &quot; was clicked. Its selected property is now &quot; + menuItem.selected + &quot;.&quot;;
        }

        function menuItemClicked(eventInfo) {
            var outputDiv = document.getElementById(&quot;outputDiv&quot;);
            outputDiv.innerHTML = eventInfo.target.id + &quot; was clicked.&quot;;
        }

        WinJS.Namespace.define(&quot;MenuExamples&quot;,
        {
            displayMenu: displayMenu,
            toggleClicked : WinJS.UI.eventHandler(toggleClicked),
            menuItemClicked : WinJS.UI.eventHandler(menuItemClicked)
        });
    })();
&lt;/script&gt;
                    </div>
                </div>
            </section>
        </section>
    </div>
</body>
</html>
